#ifndef SimDiagnosticSet_header_h
#define SimDiagnosticSet_header_h

// SimQL stuff
#include <SimQL_Types.hpp>

// STL stuff
#include <string>
#include <cstdint>
#include <vector>
#include <unordered_map>

namespace SimpleSql {

    template<SimpleSqlTypes::simql_string T>
    class SimDiagnosticSet {
    public:

        /* enums */

        enum class SQLState : std::uint8_t {
            ST_UNSET = 0,
            ST_01000 = 1,
            ST_01001 = 2,
            ST_01002 = 3,
            ST_01003 = 4,
            ST_01004 = 5,
            ST_01006 = 6,
            ST_01007 = 7,
            ST_01S00 = 8,
            ST_01S01 = 9,
            ST_01S02 = 10,
            ST_01S06 = 11,
            ST_01S07 = 12,
            ST_01S08 = 13,
            ST_01S09 = 14,
            ST_07001 = 15,
            ST_07002 = 16,
            ST_07005 = 17,
            ST_07006 = 18,
            ST_07009 = 19,
            ST_07S01 = 20,
            ST_08001 = 21,
            ST_08002 = 22,
            ST_08003 = 23,
            ST_08004 = 24,
            ST_08007 = 25,
            ST_08S01 = 26,
            ST_21S01 = 27,
            ST_21S02 = 28,
            ST_22001 = 29,
            ST_22002 = 30,
            ST_22003 = 31,
            ST_22007 = 32,
            ST_22008 = 33,
            ST_22012 = 34,
            ST_22015 = 35,
            ST_22018 = 36,
            ST_22019 = 37,
            ST_22025 = 38,
            ST_22026 = 39,
            ST_23000 = 40,
            ST_24000 = 41,
            ST_25000 = 42,
            ST_25S01 = 43,
            ST_25S02 = 44,
            ST_25S03 = 45,
            ST_28000 = 46,
            ST_34000 = 47,
            ST_3C000 = 48,
            ST_3D000 = 49,
            ST_3F000 = 50,
            ST_40001 = 51,
            ST_40002 = 52,
            ST_40003 = 53,
            ST_42000 = 54,
            ST_42S01 = 55,
            ST_42S02 = 56,
            ST_42S11 = 57,
            ST_42S12 = 58,
            ST_42S21 = 59,
            ST_42S22 = 60,
            ST_44000 = 61,
            ST_HY000 = 62,
            ST_HY001 = 63,
            ST_HY003 = 64,
            ST_HY004 = 65,
            ST_HY007 = 66,
            ST_HY008 = 67,
            ST_HY009 = 68,
            ST_HY010 = 69,
            ST_HY011 = 70,
            ST_HY012 = 71,
            ST_HY013 = 72,
            ST_HY014 = 73,
            ST_HY015 = 74,
            ST_HY016 = 75,
            ST_HY017 = 76,
            ST_HY018 = 77,
            ST_HY019 = 78,
            ST_HY020 = 79,
            ST_HY021 = 80,
            ST_HY024 = 81,
            ST_HY090 = 82,
            ST_HY091 = 83,
            ST_HY092 = 84,
            ST_HY095 = 85,
            ST_HY096 = 86,
            ST_HY097 = 87,
            ST_HY098 = 88,
            ST_HY099 = 89,
            ST_HY100 = 90,
            ST_HY101 = 91,
            ST_HY103 = 92,
            ST_HY104 = 93,
            ST_HY105 = 94,
            ST_HY106 = 95,
            ST_HY107 = 96,
            ST_HY109 = 97,
            ST_HY110 = 98,
            ST_HY111 = 99,
            ST_HYC00 = 100,
            ST_HYT00 = 101,
            ST_HYT01 = 102,
            ST_IM001 = 103,
            ST_IM002 = 104,
            ST_IM003 = 105,
            ST_IM004 = 106,
            ST_IM005 = 107,
            ST_IM006 = 108,
            ST_IM007 = 109,
            ST_IM008 = 110,
            ST_IM009 = 111,
            ST_IM010 = 112,
            ST_IM011 = 113,
            ST_IM012 = 114,
            ST_IM013 = 115,
            ST_IM014 = 116,
            ST_IM015 = 117
        };

        /* structs */

        struct Diagnostic {
            std::int16_t m_record_number;
            SQLState m_sql_state;
            std::int32_t m_native_error;
            T m_message;
        };

        /* dictionaries */

        static const std::unordered_map<T, SQLState> m_states {
            {T("UNSET"), SQLState::ST_UNSET},
            {T("01000"), SQLState::ST_01000},
            {T("01001"), SQLState::ST_01001},
            {T("01002"), SQLState::ST_01002},
            {T("01003"), SQLState::ST_01003},
            {T("01004"), SQLState::ST_01004},
            {T("01006"), SQLState::ST_01006},
            {T("01007"), SQLState::ST_01007},
            {T("01S00"), SQLState::ST_01S00},
            {T("01S01"), SQLState::ST_01S01},
            {T("01S02"), SQLState::ST_01S02},
            {T("01S06"), SQLState::ST_01S06},
            {T("01S07"), SQLState::ST_01S07},
            {T("01S08"), SQLState::ST_01S08},
            {T("01S09"), SQLState::ST_01S09},
            {T("07001"), SQLState::ST_07001},
            {T("07002"), SQLState::ST_07002},
            {T("07005"), SQLState::ST_07005},
            {T("07006"), SQLState::ST_07006},
            {T("07009"), SQLState::ST_07009},
            {T("07S01"), SQLState::ST_07S01},
            {T("08001"), SQLState::ST_08001},
            {T("08002"), SQLState::ST_08002},
            {T("08003"), SQLState::ST_08003},
            {T("08004"), SQLState::ST_08004},
            {T("08007"), SQLState::ST_08007},
            {T("08S01"), SQLState::ST_08S01},
            {T("21S01"), SQLState::ST_21S01},
            {T("21S02"), SQLState::ST_21S02},
            {T("22001"), SQLState::ST_22001},
            {T("22002"), SQLState::ST_22002},
            {T("22003"), SQLState::ST_22003},
            {T("22007"), SQLState::ST_22007},
            {T("22008"), SQLState::ST_22008},
            {T("22012"), SQLState::ST_22012},
            {T("22015"), SQLState::ST_22015},
            {T("22018"), SQLState::ST_22018},
            {T("22019"), SQLState::ST_22019},
            {T("22025"), SQLState::ST_22025},
            {T("22026"), SQLState::ST_22026},
            {T("23000"), SQLState::ST_23000},
            {T("24000"), SQLState::ST_24000},
            {T("25000"), SQLState::ST_25000},
            {T("25S01"), SQLState::ST_25S01},
            {T("25S02"), SQLState::ST_25S02},
            {T("25S03"), SQLState::ST_25S03},
            {T("28000"), SQLState::ST_28000},
            {T("34000"), SQLState::ST_34000},
            {T("3C000"), SQLState::ST_3C000},
            {T("3D000"), SQLState::ST_3D000},
            {T("3F000"), SQLState::ST_3F000},
            {T("40001"), SQLState::ST_40001},
            {T("40002"), SQLState::ST_40002},
            {T("40003"), SQLState::ST_40003},
            {T("42000"), SQLState::ST_42000},
            {T("42S01"), SQLState::ST_42S01},
            {T("42S02"), SQLState::ST_42S02},
            {T("42S11"), SQLState::ST_42S11},
            {T("42S12"), SQLState::ST_42S12},
            {T("42S21"), SQLState::ST_42S21},
            {T("42S22"), SQLState::ST_42S22},
            {T("44000"), SQLState::ST_44000},
            {T("HY000"), SQLState::ST_HY000},
            {T("HY001"), SQLState::ST_HY001},
            {T("HY003"), SQLState::ST_HY003},
            {T("HY004"), SQLState::ST_HY004},
            {T("HY007"), SQLState::ST_HY007},
            {T("HY008"), SQLState::ST_HY008},
            {T("HY009"), SQLState::ST_HY009},
            {T("HY010"), SQLState::ST_HY010},
            {T("HY011"), SQLState::ST_HY011},
            {T("HY012"), SQLState::ST_HY012},
            {T("HY013"), SQLState::ST_HY013},
            {T("HY014"), SQLState::ST_HY014},
            {T("HY015"), SQLState::ST_HY015},
            {T("HY016"), SQLState::ST_HY016},
            {T("HY017"), SQLState::ST_HY017},
            {T("HY018"), SQLState::ST_HY018},
            {T("HY019"), SQLState::ST_HY019},
            {T("HY020"), SQLState::ST_HY020},
            {T("HY021"), SQLState::ST_HY021},
            {T("HY024"), SQLState::ST_HY024},
            {T("HY090"), SQLState::ST_HY090},
            {T("HY091"), SQLState::ST_HY091},
            {T("HY092"), SQLState::ST_HY092},
            {T("HY095"), SQLState::ST_HY095},
            {T("HY096"), SQLState::ST_HY096},
            {T("HY097"), SQLState::ST_HY097},
            {T("HY098"), SQLState::ST_HY098},
            {T("HY099"), SQLState::ST_HY099},
            {T("HY100"), SQLState::ST_HY100},
            {T("HY101"), SQLState::ST_HY101},
            {T("HY103"), SQLState::ST_HY103},
            {T("HY104"), SQLState::ST_HY104},
            {T("HY105"), SQLState::ST_HY105},
            {T("HY106"), SQLState::ST_HY106},
            {T("HY107"), SQLState::ST_HY107},
            {T("HY109"), SQLState::ST_HY109},
            {T("HY110"), SQLState::ST_HY110},
            {T("HY111"), SQLState::ST_HY111},
            {T("HYC00"), SQLState::ST_HYC00},
            {T("HYT00"), SQLState::ST_HYT00},
            {T("HYT01"), SQLState::ST_HYT01},
            {T("IM001"), SQLState::ST_IM001},
            {T("IM002"), SQLState::ST_IM002},
            {T("IM003"), SQLState::ST_IM003},
            {T("IM004"), SQLState::ST_IM004},
            {T("IM005"), SQLState::ST_IM005},
            {T("IM006"), SQLState::ST_IM006},
            {T("IM007"), SQLState::ST_IM007},
            {T("IM008"), SQLState::ST_IM008},
            {T("IM009"), SQLState::ST_IM009},
            {T("IM010"), SQLState::ST_IM010},
            {T("IM011"), SQLState::ST_IM011},
            {T("IM012"), SQLState::ST_IM012},
            {T("IM013"), SQLState::ST_IM013},
            {T("IM014"), SQLState::ST_IM014},
            {T("IM015"), SQLState::ST_IM015}
        };

        static const std::unordered_map<SQLState, T> m_state_descriptions {
            {SQLState::ST_UNSET, T("UNSET")},
            {SQLState::ST_01000, T("General warning")},
            {SQLState::ST_01001, T("Cursor operation conflict")},
            {SQLState::ST_01002, T("Disconnect error")},
            {SQLState::ST_01003, T("NULL value eliminated in set function")},
            {SQLState::ST_01004, T("String data, right-truncated")},
            {SQLState::ST_01006, T("Privilege not revoked")},
            {SQLState::ST_01007, T("Privilege not granted")},
            {SQLState::ST_01S00, T("Invalid connection string attribute")},
            {SQLState::ST_01S01, T("Error in row")},
            {SQLState::ST_01S02, T("Option value changed")},
            {SQLState::ST_01S06, T("Attempt to fetch before the result set returned the first rowset")},
            {SQLState::ST_01S07, T("Fractional truncation")},
            {SQLState::ST_01S08, T("Error saving File DSN")},
            {SQLState::ST_01S09, T("Invalid keyword")},
            {SQLState::ST_07001, T("Wrong number of parameters")},
            {SQLState::ST_07002, T("COUNT field incorrect")},
            {SQLState::ST_07005, T("Prepared statement not a cursor-specification")},
            {SQLState::ST_07006, T("Restricted data type attribute violation")},
            {SQLState::ST_07009, T("Invalid descriptor index")},
            {SQLState::ST_07S01, T("Invalid use of default parameter")},
            {SQLState::ST_08001, T("Client unable to establish connection")},
            {SQLState::ST_08002, T("Connection name in use")},
            {SQLState::ST_08003, T("Connection not open")},
            {SQLState::ST_08004, T("Server rejected the connection")},
            {SQLState::ST_08007, T("Connection failure during transaction")},
            {SQLState::ST_08S01, T("Communication link failure")},
            {SQLState::ST_21S01, T("Insert value list does not match column list")},
            {SQLState::ST_21S02, T("Degree of derived table does not match column list")},
            {SQLState::ST_22001, T("String data, right-truncated")},
            {SQLState::ST_22002, T("Indicator variable required but not supplied")},
            {SQLState::ST_22003, T("Numeric value out of range")},
            {SQLState::ST_22007, T("Invalid datetime format")},
            {SQLState::ST_22008, T("Datetime field overflow")},
            {SQLState::ST_22012, T("Division by zero")},
            {SQLState::ST_22015, T("Interval field overflow")},
            {SQLState::ST_22018, T("Invalid character value for cast specification")},
            {SQLState::ST_22019, T("Invalid escape character")},
            {SQLState::ST_22025, T("Invalid escape sequence")},
            {SQLState::ST_22026, T("String data, length mismatch")},
            {SQLState::ST_23000, T("Integrity constraint violation")},
            {SQLState::ST_24000, T("Invalid cursor state")},
            {SQLState::ST_25000, T("Invalid transaction state")},
            {SQLState::ST_25S01, T("Transaction state")},
            {SQLState::ST_25S02, T("Transaction is still active")},
            {SQLState::ST_25S03, T("Transaction is rolled back")},
            {SQLState::ST_28000, T("Invalid authorization specification")},
            {SQLState::ST_34000, T("Invalid cursor name")},
            {SQLState::ST_3C000, T("Duplicate cursor name")},
            {SQLState::ST_3D000, T("Invalid catalog name")},
            {SQLState::ST_3F000, T("Invalid schema name")},
            {SQLState::ST_40001, T("Serialization failure")},
            {SQLState::ST_40002, T("Integrity constraint violation")},
            {SQLState::ST_40003, T("Statement completion unknown")},
            {SQLState::ST_42000, T("Syntax error or access violation")},
            {SQLState::ST_42S01, T("Base table or view already exists")},
            {SQLState::ST_42S02, T("Base table or view not found")},
            {SQLState::ST_42S11, T("Index already exists")},
            {SQLState::ST_42S12, T("Index not found")},
            {SQLState::ST_42S21, T("Column already exists")},
            {SQLState::ST_42S22, T("Column not found")},
            {SQLState::ST_44000, T("WITH CHECK OPTION violation")},
            {SQLState::ST_HY000, T("General error")},
            {SQLState::ST_HY001, T("Memory allocation error")},
            {SQLState::ST_HY003, T("Invalid application buffer type")},
            {SQLState::ST_HY004, T("Invalid SQL data type")},
            {SQLState::ST_HY007, T("Associated statement is not prepared")},
            {SQLState::ST_HY008, T("Operation canceled")},
            {SQLState::ST_HY009, T("Invalid use of null pointer")},
            {SQLState::ST_HY010, T("Function sequence error")},
            {SQLState::ST_HY011, T("Attribute cannot be set now")},
            {SQLState::ST_HY012, T("Invalid transaction operation code")},
            {SQLState::ST_HY013, T("Memory management error")},
            {SQLState::ST_HY014, T("Limit on the number of handles exceeded")},
            {SQLState::ST_HY015, T("No cursor name available")},
            {SQLState::ST_HY016, T("Cannot modify an implementation row descriptor")},
            {SQLState::ST_HY017, T("Invalid use of an automatically allocated descriptor handle")},
            {SQLState::ST_HY018, T("Server declined cancel request")},
            {SQLState::ST_HY019, T("Non-character and non-binary data sent in pieces")},
            {SQLState::ST_HY020, T("Attempt to concatenate a null value")},
            {SQLState::ST_HY021, T("Inconsistent descriptor information")},
            {SQLState::ST_HY024, T("Invalid attribute value")},
            {SQLState::ST_HY090, T("Invalid string or buffer length")},
            {SQLState::ST_HY091, T("Invalid descriptor field identifier")},
            {SQLState::ST_HY092, T("Invalid attribute/option identifier")},
            {SQLState::ST_HY095, T("Function type out of range")},
            {SQLState::ST_HY096, T("Invalid information type")},
            {SQLState::ST_HY097, T("Column type out of range")},
            {SQLState::ST_HY098, T("Scope type out of range")},
            {SQLState::ST_HY099, T("Nullable type out of range")},
            {SQLState::ST_HY100, T("Uniqueness option type out of range")},
            {SQLState::ST_HY101, T("Accuracy option type out of range")},
            {SQLState::ST_HY103, T("Invalid retrieval code")},
            {SQLState::ST_HY104, T("Invalid precision or scale value")},
            {SQLState::ST_HY105, T("Invalid parameter type")},
            {SQLState::ST_HY106, T("Fetch type out of range")},
            {SQLState::ST_HY107, T("Row value out of range")},
            {SQLState::ST_HY109, T("Invalid cursor position")},
            {SQLState::ST_HY110, T("Invalid driver completion")},
            {SQLState::ST_HY111, T("Invalid bookmark value")},
            {SQLState::ST_HYC00, T("Optional feature not implemented")},
            {SQLState::ST_HYT00, T("Timeout expired")},
            {SQLState::ST_HYT01, T("Connection timeout expired")},
            {SQLState::ST_IM001, T("Driver does not support this function")},
            {SQLState::ST_IM002, T("Data source name not found and no default driver specified")},
            {SQLState::ST_IM003, T("Specified driver could not be loaded")},
            {SQLState::ST_IM004, T("Driver's SQLAllocHandle on SQL_HANDLE_ENV failed")},
            {SQLState::ST_IM005, T("Driver's SQLAllocHandle on SQL_HANDLE_DBC failed")},
            {SQLState::ST_IM006, T("Driver's SQLSetConnectAttr failed")},
            {SQLState::ST_IM007, T("No data source or driver specified; dialog prohibited")},
            {SQLState::ST_IM008, T("Dialog failed")},
            {SQLState::ST_IM009, T("Unable to load translation DLL")},
            {SQLState::ST_IM010, T("Data source name too long")},
            {SQLState::ST_IM011, T("Driver name too long")},
            {SQLState::ST_IM012, T("DRIVER keyword syntax error")},
            {SQLState::ST_IM013, T("Trace file error")},
            {SQLState::ST_IM014, T("Invalid name of File DSN")},
            {SQLState::ST_IM015, T("Corrupt file data source")}
        };

    private:

        std::vector<Diagnostic> m_diagnostics;
        

    public:
        SimDiagnosticSet() {}
        ~SimDiagnosticSet() {}

        
        
        



    };
}

#endif